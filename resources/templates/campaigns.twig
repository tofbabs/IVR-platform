<!DOCTYPE html>
<html lang="en">

<meta http-equiv="content-type" content="text/html;charset=UTF-8"/>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>IVR Advertising Platform</title>

    <!-- Global stylesheets -->
    <link href="../../static/fonts/fonts.css" rel="stylesheet" type="text/css">
    <link href="../../static/css/icons/icomoon/styles.css" rel="stylesheet" type="text/css">
    <link href="../../static/css/bootstrap.css" rel="stylesheet" type="text/css">
    <link href="../../static/css/core.css" rel="stylesheet" type="text/css">
    <link href="../../static/css/components.css" rel="stylesheet" type="text/css">
    <link href="../../static/css/colors.css" rel="stylesheet" type="text/css">
    <link href="../../static/css/custom.css" rel="stylesheet" type="text/css">
    <!-- /global stylesheets -->

    <!-- Core JS files -->
    <script type="text/javascript" src="../../static/js/plugins/loaders/pace.min.js"></script>
    <script type="text/javascript" src="../../static/js/core/libraries/jquery.min.js"></script>
    <script type="text/javascript" src="../../static/js/core/libraries/bootstrap.min.js"></script>
    <script type="text/javascript" src="../../static/js/plugins/loaders/blockui.min.js"></script>
    <!-- /core JS files -->

    <script src="../../static/js/angular.min.js"></script>
    {#<script src="../../node_modules/angular-audio/app/angular.audio.js"></script>#}
    <script src="../../bower_components/ngWebAudio/src/ngWebAudio.js"></script>
    <script src="../../static/js/application.js"></script>

    <!-- Theme JS files -->
    <script type="text/javascript" src="../../static/js/plugins/tables/datatables/datatables.min.js"></script>
    <script type="text/javascript" src="../../static/js/plugins/forms/selects/select2.min.js"></script>

    <script type="text/javascript" src="../../static/js/core/app.js"></script>
    <script type="text/javascript" src="../../static/js/pages/datatables_advanced.js"></script>

    <script type="text/javascript" src="../../static/js/plugins/ui/ripple.min.js"></script>
    <!-- /theme JS files -->

</head>

<body ng-app="mainApp">

<!-- Main navbar -->
<div class="navbar navbar-inverse bg-green">
    <div class="navbar-header">
        <a class="navbar-brand" href="{{ path_for('index') }}">IVR Advertising Platform</a>

        <ul class="nav navbar-nav visible-xs-block">
            <li><a data-toggle="collapse" data-target="#navbar-mobile"><i class="icon-tree5"></i></a></li>
            <li><a class="sidebar-mobile-main-toggle"><i class="icon-paragraph-justify3"></i></a></li>
        </ul>
    </div>

    <div class="navbar-collapse collapse" id="navbar-mobile">
        <ul class="nav navbar-nav">
            <li><a class="sidebar-control sidebar-main-toggle hidden-xs"><i class="icon-paragraph-justify3"></i></a>
            </li>
        </ul>
        <div class="navbar-right">
            <ul class="nav navbar-nav">
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Logged In as
                        <strong>{{ username| title }}</strong>&nbsp;&nbsp;&nbsp;
                        <i class="icon-person"></i>
                        <span class="visible-xs-inline-block position-right">Messages</span>
                        <span class="note-icon-caret"></span>
                    </a>

                    <div class="dropdown-menu dropdown-content width-50">
                        <ul class="dropdown-content-body">
                            <ol>
                                <a href="{{ path_for('logout') }}" class="media-heading">
                                    <i class="icon-close2"></i>&nbsp;&nbsp;
                                    <span class="text-muted">Sign Out</span>
                                </a>
                            </ol>
                        </ul>
                        {#<ul class="media-list dropdown-content-body">#}

                        {#<li class="media">#}
                        {#<div class="media-left"><img src="assets/images/demo/users/face25.jpg" class="img-circle img-sm" alt=""></div>#}
                        {#<div class="media-body">#}
                        {#<a href="{{ path_for('logout') }}" class="media-heading">#}
                        {#<span class="text-muted">Sign Out</span>#}
                        {#</a>#}
                        {#</div>#}
                        {#</li>#}
                        {#</ul>#}
                    </div>
                </li>
            </ul>
        </div>
    </div>
</div>
<!-- /main navbar -->


<!-- Page container -->
<div class="page-container" ng-controller="FileCtrl" ng-init="init({{ campaigns }}, '{{ username }}')">

    <!-- Page content -->
    <div class="page-content">

        <!-- Main sidebar -->
        <div class="sidebar sidebar-main sidebar-default">
            <div class="sidebar-content">
                <div class="sidebar-category sidebar-category-visible">
                    <div class="category-content no-padding">
                        <ul class="navigation navigation-main navigation-accordion">

                            <!-- SIDEBAR USERPIC -->
                            <div class="profile-userpic">
                                <img src="/images/eti_logo.jpg" class="img-responsive" alt="">
                            </div>
                            <!-- SIDEBAR BUTTONS -->
                            <div class="profile-userbuttons">
                                <a href="{{ path_for('upload') }}">
                                    <button type="button" class="btn btn-success btn-sm"><span style="font-size:smaller;">Upload</span></button>
                                </a>
                                <a href="{{ path_for('create_campaign') }}">
                                    <button type="button" class="btn btn-primary btn-sm"><span style="font-size:smaller;">Campaign</span></button>
                                </a>
                            </div>

                            <!-- Main -->
                            <li class="navigation-header"><span>Main</span> <i class="icon-menu" title="Main pages"></i>
                            </li>
                            <li class="active"><a href="{{ path_for('index') }}"><i class="icon-home4"></i> <span>Dashboard</span></a></li>
                            {% if user.is_admin %}
                                <li>
                                    <a href="{{ path_for('accounts') }}"><i class="icon-users"></i>
                                        <span>Accounts</span></a>
                                    <ul>
                                        <li><a href="{{ path_for('create_account') }}">Create Account </a></li>
                                        <li><a href="{{ path_for('accounts') }}">View Accounts</a></li>
                                    </ul>
                                </li>
                            {% endif %}
                            <li>
                                <a href="{{ path_for('campaigns') }}"><i class="icon-stack2"></i> <span>Campaigns</span></a>
                                <ul>
                                    <li><a href="{{ path_for('create_campaign') }}">Create Campaign </a></li>
                                    <li><a href="{{ path_for('campaigns') }}">View Campaigns</a></li>
                                </ul>
                            </li>
                            <li>
                                <a href="{{ path_for('files') }}"><i class="icon-copy"></i>
                                    <span>File Manager</span></a>
                                <ul>
                                    <li><a href="{{ path_for('upload') }}">Upload Files</a></li>
                                    <li><a href="{{ path_for('files') }}">View Files</a></li>

                                </ul>
                            </li>
                            <li>
                                <a href="{{ path_for('reports') }}"><i class="icon-stack"></i> <span>Reports</span></a>

                            </li>
                        </ul>
                    </div>
                </div>
                <!-- /main navigation -->

            </div>
        </div>
        <!-- /main sidebar -->

        <!-- Main content -->
        <div class="content-wrapper">
            <!-- Page header -->
            <div class="page-header page-header-default">
                <div class="page-header-content">
                    <div class="page-title">
                        <h4><i class="icon-arrow-left52 position-left"></i> <span class="text-semibold">Campaigns</span>
                        </h4>
                    </div>

                    <div class="heading-elements">
                        <select name="client" class="form-control" ng-model="username" ng-change="changeActive()">
                            <option value="all">ALL</option>
                            {% for user in users %}
                                <option value="{{ user.username }}">{{ user.username }}</option>
                            {% endfor %}
                        </select>
                        {#<div class="heading-btn-group">#}
                            {#<a class="btn btn-link btn-float text-size-small has-text" ng-class="all ? 'selected' : ''"#}
                               {#ng-click="changeActive('all')"><i class="icon-bars-alt text-primary"></i><span>All</span></a>#}
                            {#<a class="btn btn-link btn-float text-size-small has-text"#}
                               {#ng-class="etisalat ? 'selected' : ''" ng-click="changeActive('etisalat')"><img#}
                                        {#src="/images/etisalat.png"/><span></span></a>#}
                            {#<a class="btn btn-link btn-float text-size-small has-text" ng-class="tm30 ? 'selected' : ''"#}
                               {#ng-click="changeActive('tm30')"><img src="/images/tm.png"/>#}
                                {#<span></span></a>#}
                        {#</div>#}
                    </div>
                </div>

                <div class="breadcrumb-line">
                    <ul class="breadcrumb">
                        <li><a href="{{ path_for('index') }}"><i class="icon-home2 position-left"></i> Home</a></li>
                        <li><a href="{{ path_for('campaigns') }}">Campaigns</a></li>
                        <li class="active">View Campaigns</li>
                    </ul>

                    <ul class="breadcrumb-elements">
                        {% if user.is_admin %}
                        <li><a href="{{ path_for('settings') }}"><i class="icon-gear position-left"></i> Settings</a></li>
                        {% endif %}
                        <li>
                            <a href="{{ path_for('download') }}"><i class="icon-download position-left"></i>
                                Download</a>
                        </li>
                    </ul>
                </div>
            </div>
            <!-- /page header -->


            <!-- Content area -->
            <div class="content">

                <!-- Page length options -->
                <div class="panel panel-flat">
                    <div class="panel-heading">
                        <h3 class="panel-title"><strong>{{ username|title }} Campaigns</strong></h3>
                    </div>

                    {#<div class="panel-body">#}
                    {#It is possible to easily customise the options shown in the length menu using the <code>lengthMenu</code> initialisation option. This parameter can take one of two forms: 1) A <code>1D</code> array of options which will be used for both the displayed option and the value; 2) A <code>2D</code> array in which the first array is used to define the value options and the second array the displayed options. The example below shows a 2D array being used to include a <code>"Show all"</code> records option.#}
                    {#</div>#}

                    <table class="table datatable-show-all">
                        <thead>
                        <tr>
                            <th>Name</th>
                            <th>Start Date</th>
                            <th>End Date</th>
                            <th>Status</th>
                            <th class="text-center">Actions</th>
                        </tr>
                        </thead>
                        <tbody ng-repeat="campaign in data">
                        <tr>
                            <td>
                                <a href="{{ path_for('campaign', {'campaign_id': '[[ campaign.id ]]'}) }}">[[campaign.name]]</a><br>
                                <small ng-bind="campaign.description"></small>
                            </td>
                            {#<td ng-bind="campaign.file_path"></td>#}
                            <td ng-bind="campaign.start_date"></td>
                            <td ng-bind="campaign.end_date"></td>
                            <td>
                                <span ng-show="campaign.is_active == true" class="label label-success">Active</span>
                                <span ng-hide="campaign.is_active == true" class="label label-danger">InActive</span>
                            </td>
                            <td class="text-center">
                                <ul class="icons-list">
                                    <li class="dropdown">
                                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                                            <i class="icon-menu9"></i>
                                        </a>

                                        <ul class="dropdown-menu dropdown-menu-right">
                                            {% if user.is_admin %}
                                                <li ng-show="campaign.is_active == true"><a href="" ng-click="deactivateCampaign(campaign.id)"><i class="icon-cancel-circle2"></i> Deactivate</a></li>
                                                <li ng-hide="campaign.is_active == true"><a href="" ng-click="activateCampaign(campaign.id)"><i class="icon-check2"></i> Activate</a></li>
                                            {% endif %}
                                            <li><a href="{{ path_for('campaign_report', {'campaign_id': '[[ campaign.id ]]'}) }}"><i class="icon-file-pdf"></i>View Reports</a></li>
                                            <li><a href="{{ path_for('download') }}"><i class="icon-download"></i> Download</a></li>
                                        </ul>
                                    </li>
                                </ul>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
                <div class="footer text-muted">
                    &copy;copyright TM30.
                </div>

            </div>

        </div>

    </div>

</div>
</body>
</html>
